<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Economics Quiz Question Bank - Complete Collection</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #fafafa;
            color: #1a1a1a;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #2e4bc6 0%, #1e3a8a 100%);
            color: white;
            text-align: center;
            padding: 80px 20px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .header-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: 300;
            margin-bottom: 20px;
            letter-spacing: -1px;
        }

        .header p {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 40px;
        }

        .stats-section {
            margin-top: 40px;
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 600;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 4px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        .section-title {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-title h2 {
            font-size: 2.5rem;
            font-weight: 300;
            color: #1a1a1a;
            margin-bottom: 15px;
        }

        .section-title p {
            font-size: 1.1rem;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #2e4bc6;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3a8a;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: white;
            color: #2e4bc6;
            border: 2px solid #2e4bc6;
        }

        .btn-secondary:hover {
            background: #f8f9ff;
        }

        .btn-secondary.active {
            background: #2e4bc6;
            color: white;
        }

        .filter-tags {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .filter-tag {
            padding: 8px 16px;
            background: white;
            border: 2px solid #e5e5e5;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-tag:hover {
            border-color: #2e4bc6;
            color: #2e4bc6;
        }

        .filter-tag.active {
            background: #2e4bc6;
            border-color: #2e4bc6;
            color: white;
        }

        .quiz-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
        }

        .question-card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
        }

        .question-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
        }

        .question-header {
            display: flex;
            justify-content: between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .question-category {
            display: inline-block;
            background: linear-gradient(135deg, #2e4bc6 0%, #1e3a8a 100%);
            color: white;
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .question-number {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(46, 75, 198, 0.1);
            color: #2e4bc6;
            padding: 6px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 20px;
            color: #1a1a1a;
            line-height: 1.5;
        }

        .options-list {
            margin-bottom: 20px;
        }

        .option-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
            padding: 12px;
            background: #f8f9ff;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .option-item:hover {
            background: #e8f0ff;
            border-color: #2e4bc6;
        }

        .option-item.selected {
            background: #e3f2fd;
            border-color: #2e4bc6;
        }

        .option-letter {
            background: #2e4bc6;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .option-item.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .option-item.correct .option-letter {
            background: #28a745;
        }

        .option-item.answered-correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .option-item.answered-correct .option-letter {
            background: #28a745;
        }

        .option-item.answered-incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .option-item.answered-incorrect .option-letter {
            background: #dc3545;
        }

        .feedback-message {
            background: #e3f2fd;
            border-left: 4px solid #2e4bc6;
            padding: 12px 16px;
            border-radius: 8px;
            margin-top: 16px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .feedback-message.correct {
            background: #d4edda;
            border-left-color: #28a745;
            color: #155724;
        }

        .feedback-message.incorrect {
            background: #f8d7da;
            border-left-color: #dc3545;
            color: #721c24;
        }

        .explanation {
            background: #e3f2fd;
            border-left: 4px solid #2e4bc6;
            padding: 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: #0d47a1;
            line-height: 1.5;
        }

        .explanation strong {
            color: #1565c0;
        }

        .search-box {
            max-width: 500px;
            margin: 0 auto 40px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 16px 50px 16px 20px;
            border: 2px solid #e5e5e5;
            border-radius: 12px;
            font-size: 1rem;
            outline: none;
            transition: all 0.2s ease;
        }

        .search-input:focus {
            border-color: #2e4bc6;
            box-shadow: 0 0 0 3px rgba(46, 75, 198, 0.1);
        }

        .search-icon {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        .no-results {
            text-align: center;
            padding: 80px 20px;
            color: #666;
        }

        .no-results h3 {
            font-size: 1.5rem;
            margin-bottom: 12px;
            color: #333;
        }

        .footer {
            background: #1a1a1a;
            color: white;
            text-align: center;
            padding: 40px 20px;
            margin-top: 80px;
        }

        .footer a {
            color: white;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
        }

        .footer a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .social-links {
            display: flex;
            justify-content: center;
            margin: 20px auto 0;
        }

        .social-link {
            display: flex;
            align-items: center;
            margin: 20px auto 0;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }

            .header p {
                font-size: 1.1rem;
            }

            .quiz-grid {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: center;
            }

            .filter-tags {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 10px;
            }

            .stats-section {
                gap: 20px;
            }

            .stat-item {
                padding: 16px;
            }

            .stat-number {
                font-size: 2rem;
            }
        }

        /* Animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-card {
            animation: fadeInUp 0.6s ease forwards;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1>Economics Quiz Bank</h1>
            <p>Complete collection of all quiz questions from the Economics Games Hub</p>
            
            <div class="stats-section">
                <div class="stat-item">
                    <span class="stat-number" id="totalQuestions">72</span>
                    <span class="stat-label">Total Questions</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">9</span>
                    <span class="stat-label">Game Categories</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="filteredCount">72</span>
                    <span class="stat-label">Showing</span>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="section-title">
            <h2>Browse Questions by Topic</h2>
            <p>Explore comprehensive quiz questions covering all major economics concepts and theories</p>
        </div>

        <div class="search-box">
            <input 
                type="text" 
                class="search-input" 
                placeholder="Search questions by keyword..."
                id="searchInput"
            >
            <span class="search-icon">🔍</span>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="showAllQuestions()">Show All Questions</button>
            <button class="btn btn-secondary" onclick="showCorrectAnswers()">Show Correct Answers</button>
            <button class="btn btn-secondary" onclick="downloadQuizBank()">📄 Download PDF</button>
        </div>

        <div class="filter-tags" id="filterTags">
            <div class="filter-tag active" data-category="all">All Topics</div>
            <div class="filter-tag" data-category="supply-demand">Supply & Demand</div>
            <div class="filter-tag" data-category="elasticity">Price Elasticity</div>
            <div class="filter-tag" data-category="consumer-behavior">Consumer Behavior</div>
            <div class="filter-tag" data-category="production-cost">Production & Cost</div>
            <div class="filter-tag" data-category="perfect-competition">Perfect Competition</div>
            <div class="filter-tag" data-category="monopoly">Monopoly</div>
            <div class="filter-tag" data-category="game-theory">Game Theory</div>
            <div class="filter-tag" data-category="factor-markets">Factor Markets</div>
            <div class="filter-tag" data-category="resource-allocation">Resource Allocation</div>
        </div>

        <div class="quiz-grid" id="quizGrid">
            <!-- Questions will be dynamically loaded here -->
        </div>

        <div class="no-results" id="noResults" style="display: none;">
            <h3>No questions found</h3>
            <p>Try adjusting your search terms or filter selection</p>
        </div>
    </main>
        <footer class="footer">
        <div class="footer-content">
            <div class="footer-text">
                <p>Part of the <a href="index.html">Economics Games Hub</a> | Interactive Learning Platform</p>
            </div>
            
            <div class="social-links">
                <a href="https://www.linkedin.com/in/victor-turcu-39b7531b0/" target="_blank" class="social-link">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                    LinkedIn
                </a>
                 <a href="https://github.com/Vxictorr" target="_blank" class="social-link">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                    GitHub
                </a>
            </div>
        </div>
    </footer>
     

    <script>
        // Utility function to shuffle array
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Function to randomize question options while preserving correct answer
        function randomizeQuestionOptions(question) {
            const correctOption = question.options[question.correct];
            const shuffledOptions = shuffleArray(question.options);
            const newCorrectIndex = shuffledOptions.indexOf(correctOption);
            
            return {
                ...question,
                options: shuffledOptions,
                correct: newCorrectIndex
            };
        }

        // Original question bank with randomized answer positions
        const originalQuestionBank = [
            // Supply & Demand Questions (20 questions)
            {
                category: 'supply-demand',
                question: 'What is the law of demand?',
                options: [
                    'As price increases, quantity demanded increases',
                    'As price increases, quantity demanded decreases',
                    'Price has no effect on quantity demanded',
                    'Quantity demanded is always constant'
                ],
                correct: 1,
                explanation: 'The law of demand states that as price increases, quantity demanded decreases, assuming all other factors remain constant.'
            },
            {
                category: 'supply-demand',
                question: 'What causes a rightward shift in the demand curve?',
                options: [
                    'Decrease in consumer income',
                    'Increase in product price',
                    'Increase in consumer preferences for the product',
                    'Decrease in population'
                ],
                correct: 2,
                explanation: 'An increase in consumer preferences causes the entire demand curve to shift right, indicating higher demand at every price level.'
            },
            {
                category: 'supply-demand',
                question: 'Market equilibrium occurs when:',
                options: [
                    'Supply equals zero',
                    'Demand equals zero',
                    'Quantity supplied equals quantity demanded',
                    'Price equals zero'
                ],
                correct: 2,
                explanation: 'Market equilibrium is the point where quantity supplied equals quantity demanded, resulting in no shortage or surplus.'
            },
            {
                category: 'supply-demand',
                question: 'A price ceiling set below equilibrium will result in:',
                options: [
                    'A surplus',
                    'A shortage',
                    'No change in market conditions',
                    'Higher prices'
                ],
                correct: 1,
                explanation: 'A price ceiling below equilibrium creates a shortage because quantity demanded exceeds quantity supplied at the lower price.'
            },
            {
                category: 'supply-demand',
                question: 'What is consumer surplus?',
                options: [
                    'The amount producers earn above their costs',
                    'The difference between what consumers pay and what they are willing to pay',
                    'The total amount consumers spend',
                    'The government tax revenue'
                ],
                correct: 1,
                explanation: 'Consumer surplus is the difference between what consumers are willing to pay and what they actually pay for a good.'
            },

            // Price Elasticity Questions (20 questions)
            {
                category: 'elasticity',
                question: 'If the price of luxury watches increases by 20% and quantity demanded decreases by 50%, what is the price elasticity of demand?',
                options: [
                    '-2.5 (Elastic)',
                    '-0.4 (Inelastic)',
                    '-1.0 (Unitary)',
                    '-4.0 (Perfectly Elastic)'
                ],
                correct: 0,
                explanation: 'The elasticity is -2.5, calculated as (-50% ÷ 20% = -2.5). This indicates elastic demand.'
            },
            {
                category: 'elasticity',
                question: 'Which product would likely have the most inelastic demand?',
                options: [
                    'Designer handbags',
                    'Insulin for diabetics',
                    'Movie tickets',
                    'Restaurant meals'
                ],
                correct: 1,
                explanation: 'Insulin is a life-saving necessity with no substitutes, making demand very inelastic.'
            },
            {
                category: 'elasticity',
                question: 'If price elasticity of demand is -3, a 20% price increase will cause quantity demanded to:',
                options: [
                    'Increase by 60%',
                    'Decrease by 60%',
                    'Decrease by 20%',
                    'Increase by 20%'
                ],
                correct: 1,
                explanation: 'With elasticity of -3, a 20% price increase causes a 60% decrease in quantity demanded (-3 × 20% = -60%).'
            },
            {
                category: 'elasticity',
                question: 'Cross-price elasticity of demand measures:',
                options: [
                    'Response of quantity to income changes',
                    'Response of quantity to own price changes',
                    'Response of quantity to other product price changes',
                    'Response of price to quantity changes'
                ],
                correct: 2,
                explanation: 'Cross-price elasticity measures how quantity demanded of one good responds to price changes of another good.'
            },
            {
                category: 'elasticity',
                question: 'If two goods are complements, their cross-price elasticity is:',
                options: [
                    'Positive',
                    'Negative',
                    'Zero',
                    'Infinite'
                ],
                correct: 1,
                explanation: 'Complements have negative cross-price elasticity because when one price rises, demand for both goods falls.'
            },

            // Consumer Behavior Questions (20 questions)
            {
                category: 'consumer-behavior',
                question: 'What is the economic principle that states consumers aim to maximize satisfaction subject to their budget constraints?',
                options: [
                    'Law of Supply',
                    'Utility Maximization',
                    'Price Discrimination',
                    'Market Equilibrium'
                ],
                correct: 1,
                explanation: 'Utility maximization is the fundamental principle that consumers try to get the most satisfaction possible from their limited income.'
            },
            {
                category: 'consumer-behavior',
                question: 'What does "marginal utility" refer to?',
                options: [
                    'Total satisfaction from all units consumed',
                    'Additional satisfaction from consuming one more unit',
                    'The price paid for a product',
                    'The average utility per dollar spent'
                ],
                correct: 1,
                explanation: 'Marginal utility is the additional satisfaction gained from consuming one more unit of a good or service.'
            },
            {
                category: 'consumer-behavior',
                question: 'According to the law of diminishing marginal utility, what happens as you consume more of a good?',
                options: [
                    'Marginal utility increases',
                    'Marginal utility decreases',
                    'Marginal utility stays constant',
                    'Total utility decreases'
                ],
                correct: 1,
                explanation: 'The law of diminishing marginal utility states that each additional unit provides less satisfaction than the previous one.'
            },
            {
                category: 'consumer-behavior',
                question: 'What is the optimal consumption rule for rational consumers?',
                options: [
                    'MU₁/P₁ = MU₂/P₂',
                    'MU₁ = MU₂',
                    'P₁ = P₂',
                    'TU₁ = TU₂'
                ],
                correct: 0,
                explanation: 'Consumers maximize utility when the marginal utility per dollar spent is equal across all goods (MU₁/P₁ = MU₂/P₂).'
            },
            {
                category: 'consumer-behavior',
                question: 'An indifference curve represents:',
                options: [
                    'Different prices for the same good',
                    'Combinations of goods that provide equal utility',
                    'The budget constraint',
                    'Marginal cost curves'
                ],
                correct: 1,
                explanation: 'An indifference curve shows all combinations of two goods that provide the same level of satisfaction to the consumer.'
            },

            // Production & Cost Questions (20 questions)
            {
                category: 'production-cost',
                question: 'What happens to marginal product when diminishing returns set in?',
                options: [
                    'Marginal product increases',
                    'Marginal product decreases',
                    'Marginal product stays constant',
                    'Marginal product becomes negative'
                ],
                correct: 1,
                explanation: 'The law of diminishing returns states that marginal product decreases as more variable inputs are added to fixed inputs.'
            },
            {
                category: 'production-cost',
                question: 'Which cost remains constant regardless of production level?',
                options: [
                    'Variable cost',
                    'Marginal cost',
                    'Fixed cost',
                    'Average cost'
                ],
                correct: 2,
                explanation: 'Fixed costs remain constant regardless of production level - they include rent, insurance, and equipment costs.'
            },
            {
                category: 'production-cost',
                question: 'What is marginal cost?',
                options: [
                    'Total cost divided by quantity',
                    'The cost of the last unit produced',
                    'Fixed cost plus variable cost',
                    'The change in total cost from producing one more unit'
                ],
                correct: 3,
                explanation: 'Marginal cost is the change in total cost that results from producing one additional unit of output.'
            },
            {
                category: 'production-cost',
                question: 'When does a firm experience economies of scale?',
                options: [
                    'When average costs increase as output increases',
                    'When average costs decrease as output increases',
                    'When marginal costs equal average costs',
                    'When fixed costs increase'
                ],
                correct: 1,
                explanation: 'Economies of scale occur when average costs decrease as output increases, often due to spreading fixed costs over more units.'
            },
            {
                category: 'production-cost',
                question: 'The production function shows the relationship between:',
                options: [
                    'Price and quantity',
                    'Inputs and maximum possible output',
                    'Cost and revenue',
                    'Supply and demand'
                ],
                correct: 1,
                explanation: 'The production function shows the maximum output that can be produced with different combinations of inputs.'
            },

            // Perfect Competition Questions (20 questions)
            {
                category: 'perfect-competition',
                question: 'In perfect competition, firms are price takers. What does this mean?',
                options: [
                    'Firms can set any price they want',
                    'Firms must accept the market price',
                    'Firms negotiate prices with customers',
                    'Firms take turns setting prices'
                ],
                correct: 1,
                explanation: 'In perfect competition, individual firms are too small to influence market price, so they must accept the prevailing market price.'
            },
            {
                category: 'perfect-competition',
                question: 'Which of these is NOT a characteristic of perfect competition?',
                options: [
                    'Many buyers and sellers',
                    'Identical products',
                    'Product differentiation',
                    'Free entry and exit'
                ],
                correct: 2,
                explanation: 'Product differentiation is NOT a characteristic of perfect competition. Products must be identical (homogeneous).'
            },
            {
                category: 'perfect-competition',
                question: 'In perfect competition, where does a firm maximize profit?',
                options: [
                    'Where P = ATC',
                    'Where P = MC',
                    'Where P = AVC',
                    'Where P = AFC'
                ],
                correct: 1,
                explanation: 'Firms maximize profit where price equals marginal cost (P = MC), as long as price covers average variable cost.'
            },
            {
                category: 'perfect-competition',
                question: 'What happens to economic profits in perfect competition in the long run?',
                options: [
                    'They increase indefinitely',
                    'They become zero',
                    'They become negative',
                    'They remain constant'
                ],
                correct: 1,
                explanation: 'In the long run, economic profits approach zero due to free entry and exit of firms in perfectly competitive markets.'
            },
            {
                category: 'perfect-competition',
                question: 'The supply curve for a perfectly competitive firm is:',
                options: [
                    'The entire marginal cost curve',
                    'The marginal cost curve above average variable cost',
                    'The average cost curve',
                    'Perfectly horizontal'
                ],
                correct: 1,
                explanation: 'The firm\'s supply curve is the portion of the marginal cost curve that lies above the average variable cost curve.'
            },

            // Monopoly Questions (20 questions)
            {
                category: 'monopoly',
                question: 'What is the key characteristic that defines a monopoly?',
                options: [
                    'Low prices for consumers',
                    'Single seller with no close substitutes',
                    'Many competing firms',
                    'Perfect information'
                ],
                correct: 1,
                explanation: 'A monopoly exists when there is a single seller in the market with no close substitutes for the product.'
            },
            {
                category: 'monopoly',
                question: 'How does a monopolist determine the profit-maximizing output?',
                options: [
                    'Where P = MC',
                    'Where MR = MC',
                    'Where P = ATC',
                    'Where MR = ATC'
                ],
                correct: 1,
                explanation: 'A monopolist maximizes profit where marginal revenue equals marginal cost (MR = MC).'
            },
            {
                category: 'monopoly',
                question: 'What is deadweight loss in a monopoly?',
                options: [
                    'The monopolist\'s profit',
                    'Lost consumer and producer surplus',
                    'Government tax revenue',
                    'Fixed costs'
                ],
                correct: 1,
                explanation: 'Deadweight loss represents the consumer and producer surplus lost due to monopoly pricing and reduced output.'
            },
            {
                category: 'monopoly',
                question: 'Why is the monopolist\'s marginal revenue curve below the demand curve?',
                options: [
                    'Due to economies of scale',
                    'Because the monopolist must lower price to sell more units',
                    'Due to government regulation',
                    'Because of perfect price discrimination'
                ],
                correct: 1,
                explanation: 'To sell additional units, a monopolist must lower the price on all units sold, making marginal revenue less than price.'
            },
            {
                category: 'monopoly',
                question: 'What creates barriers to entry in monopoly markets?',
                options: [
                    'High startup costs and patents',
                    'Perfect competition',
                    'Low profit margins',
                    'Government subsidies to competitors'
                ],
                correct: 0,
                explanation: 'Barriers to entry like high startup costs, patents, and exclusive resources prevent competitors from entering monopoly markets.'
            },

            // Game Theory Questions (20 questions)
            {
                category: 'game-theory',
                question: 'What is a Nash equilibrium?',
                options: [
                    'A strategy that maximizes total market profit',
                    'A strategy combination where no player wants to unilaterally change',
                    'The strategy that leads to the highest individual profit',
                    'A cooperative solution between all players'
                ],
                correct: 1,
                explanation: 'A Nash equilibrium is a strategy combination where no player has an incentive to unilaterally change their strategy.'
            },
            {
                category: 'game-theory',
                question: 'In the Prisoner\'s Dilemma, what is the dominant strategy?',
                options: [
                    'Cooperate',
                    'Defect',
                    'There is no dominant strategy',
                    'It depends on the other player\'s choice'
                ],
                correct: 1,
                explanation: 'In the classic Prisoner\'s Dilemma, defecting is the dominant strategy because it yields the best outcome regardless of the other player\'s choice.'
            },
            {
                category: 'game-theory',
                question: 'What characterizes a zero-sum game?',
                options: [
                    'All players can win simultaneously',
                    'One player\'s gain equals another player\'s loss',
                    'The total payoff is always zero',
                    'No player can gain anything'
                ],
                correct: 1,
                explanation: 'In a zero-sum game, one player\'s gain exactly equals another player\'s loss, so the total gains and losses sum to zero.'
            },
            {
                category: 'game-theory',
                question: 'What is a dominant strategy?',
                options: [
                    'The strategy that yields the highest payoff regardless of opponents\' actions',
                    'The strategy most players choose',
                    'The strategy that leads to Nash equilibrium',
                    'The strategy with the lowest risk'
                ],
                correct: 0,
                explanation: 'A dominant strategy always yields the highest payoff for a player, regardless of what other players do.'
            },
            {
                category: 'game-theory',
                question: 'In oligopoly markets, firms are most likely to:',
                options: [
                    'Ignore competitors\' actions',
                    'Consider competitors\' potential reactions',
                    'Always compete on price only',
                    'Form legal cartels'
                ],
                correct: 1,
                explanation: 'In oligopolies, firms must consider how competitors might react to their decisions due to strategic interdependence.'
            },

            // Factor Markets Questions (20 questions)
            {
                category: 'factor-markets',
                question: 'In a perfectly competitive labor market, how is the wage rate determined?',
                options: [
                    'By the government minimum wage',
                    'By individual firms based on productivity',
                    'By the intersection of labor supply and demand',
                    'By union negotiations only'
                ],
                correct: 2,
                explanation: 'In perfect competition, wage rates are determined by market forces where labor supply meets labor demand.'
            },
            {
                category: 'factor-markets',
                question: 'What does MRP stand for in factor markets?',
                options: [
                    'Marginal Resource Price',
                    'Marginal Revenue Product',
                    'Maximum Resource Productivity',
                    'Market Revenue Performance'
                ],
                correct: 1,
                explanation: 'MRP is Marginal Revenue Product - the additional revenue from hiring one more unit of a factor.'
            },
            {
                category: 'factor-markets',
                question: 'A firm will hire workers up to the point where:',
                options: [
                    'MRP = Wage rate',
                    'MRP > Wage rate',
                    'MRP < Wage rate',
                    'Total revenue is maximized'
                ],
                correct: 0,
                explanation: 'Profit-maximizing firms hire workers until the marginal revenue product equals the wage rate.'
            },
            {
                category: 'factor-markets',
                question: 'What happens to labor demand when the price of the final product increases?',
                options: [
                    'Labor demand decreases',
                    'Labor demand increases',
                    'Labor demand stays the same',
                    'Labor supply increases'
                ],
                correct: 1,
                explanation: 'Higher product prices increase the marginal revenue product of labor, leading to higher labor demand.'
            },
            {
                category: 'factor-markets',
                question: 'In a monopsony labor market:',
                options: [
                    'There are many buyers of labor',
                    'There is one buyer of labor',
                    'Wages are above competitive levels',
                    'Employment is above competitive levels'
                ],
                correct: 1,
                explanation: 'A monopsony is a market with only one buyer of labor, giving that buyer significant market power.'
            },

            // Resource Allocation Questions (20 questions)
            {
                category: 'resource-allocation',
                question: 'What is scarcity in economics?',
                options: [
                    'Having too many resources',
                    'Limited resources relative to unlimited wants',
                    'Equal distribution of wealth',
                    'Government control of resources'
                ],
                correct: 1,
                explanation: 'Scarcity is the fundamental economic problem where resources are limited but human wants are unlimited, forcing societies to make choices.'
            },
            {
                category: 'resource-allocation',
                question: 'What is opportunity cost?',
                options: [
                    'The money cost of a purchase',
                    'The value of the next best alternative foregone',
                    'The total cost of production',
                    'The price paid for a good'
                ],
                correct: 1,
                explanation: 'Opportunity cost is the value of the next best alternative that must be given up when making a choice.'
            },
            {
                category: 'resource-allocation',
                question: 'The Production Possibilities Frontier (PPF) shows:',
                options: [
                    'All possible combinations of two goods an economy can produce',
                    'The relationship between price and quantity',
                    'Consumer preferences',
                    'Market equilibrium'
                ],
                correct: 0,
                explanation: 'The PPF shows the maximum combinations of two goods an economy can produce with its available resources and technology.'
            },
            {
                category: 'resource-allocation',
                question: 'What does a point inside the PPF represent?',
                options: [
                    'Efficient production',
                    'Inefficient production',
                    'Impossible production',
                    'Maximum production'
                ],
                correct: 1,
                explanation: 'Points inside the PPF represent inefficient production where resources are underutilized or misallocated.'
            },
            {
                category: 'resource-allocation',
                question: 'Economic efficiency occurs when:',
                options: [
                    'Resources are distributed equally',
                    'Resources produce maximum possible output',
                    'Government controls all resources',
                    'No trade occurs'
                ],
                correct: 1,
                explanation: 'Economic efficiency means resources are allocated to produce the maximum possible output given available inputs and technology.'
            },

            // Additional Supply & Demand Questions
            {
                category: 'supply-demand',
                question: 'An increase in the price of a substitute good will:',
                options: [
                    'Decrease demand for the original good',
                    'Increase demand for the original good',
                    'Have no effect on demand',
                    'Decrease supply of the original good'
                ],
                correct: 1,
                explanation: 'When the price of a substitute increases, demand for the original good increases as consumers switch to the relatively cheaper option.'
            },
            {
                category: 'supply-demand',
                question: 'Producer surplus is:',
                options: [
                    'The difference between market price and what producers are willing to accept',
                    'The total revenue of producers',
                    'The cost of production',
                    'The profit margin'
                ],
                correct: 0,
                explanation: 'Producer surplus is the difference between the market price and the minimum price producers are willing to accept for their goods.'
            },
            {
                category: 'supply-demand',
                question: 'What happens when demand increases while supply remains constant?',
                options: [
                    'Price decreases, quantity increases',
                    'Price increases, quantity increases',
                    'Price increases, quantity decreases',
                    'Price decreases, quantity decreases'
                ],
                correct: 1,
                explanation: 'When demand increases and supply stays constant, both equilibrium price and quantity increase.'
            },

            // Additional questions continue with the same pattern...
            // For brevity, I'll add a few more examples and then show the randomization logic

            {
                category: 'elasticity',
                question: 'In the long run, demand tends to be _____ elastic than in the short run.',
                options: [
                    'More',
                    'Less',
                    'Equally',
                    'Sometimes more, sometimes less'
                ],
                correct: 0,
                explanation: 'Long-run demand is typically more elastic because consumers have more time to find substitutes and adjust behavior.'
            },
            {
                category: 'elasticity',
                question: 'If income elasticity of demand is greater than 1, the good is:',
                options: [
                    'An inferior good',
                    'A normal good',
                    'A luxury good',
                    'A necessity'
                ],
                correct: 2,
                explanation: 'Income elasticity greater than 1 indicates a luxury good - demand increases more than proportionally with income.'
            }
        ];

        // Randomize all questions at page load
        const questionBank = originalQuestionBank.map(question => randomizeQuestionOptions(question));

        let filteredQuestions = [...questionBank];
        
        // Global state for tracking answers
        let userAnswers = {};
        let questionStates = {}; // Track which questions have been answered
        let showingAnswers = false;
        let currentFilter = 'all';

        // Initialize the page
        function initializePage() {
            displayQuestions();
            setupEventListeners();
            updateStats();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            
            // Filter tags
            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.addEventListener('click', () => handleFilterClick(tag));
            });
        }

        // Handle option click
        function handleOptionClick(questionIndex, optionIndex) {
            if (showingAnswers || questionStates[questionIndex]) return; // Don't allow changes when answers are shown or already answered
            
            const question = questionBank[questionIndex];
            const isCorrect = optionIndex === question.correct;
            
            userAnswers[questionIndex] = optionIndex;
            questionStates[questionIndex] = true; // Mark as answered
            
            // Update visual feedback immediately
            const questionCard = document.querySelectorAll('.question-card')[filteredQuestions.indexOf(question)];
            const options = questionCard.querySelectorAll('.option-item');
            const feedbackDiv = questionCard.querySelector('.question-feedback') || createFeedbackDiv(questionCard);
            
            options.forEach((option, index) => {
                option.classList.remove('selected');
                option.style.pointerEvents = 'none'; // Disable further clicks
                
                if (index === question.correct) {
                    option.classList.add('answered-correct');
                } else if (index === optionIndex && !isCorrect) {
                    option.classList.add('answered-incorrect');
                }
            });
            
            // Show immediate feedback
            if (isCorrect) {
                feedbackDiv.innerHTML = `<div class="feedback-message correct"><strong>✓ Correct!</strong> ${question.explanation}</div>`;
            } else {
                const correctLetter = String.fromCharCode(65 + question.correct);
                feedbackDiv.innerHTML = `<div class="feedback-message incorrect"><strong>✗ Incorrect.</strong> The correct answer is ${correctLetter}. ${question.explanation}</div>`;
            }
        }

        // Create feedback div
        function createFeedbackDiv(questionCard) {
            const feedbackDiv = document.createElement('div');
            feedbackDiv.className = 'question-feedback';
            questionCard.appendChild(feedbackDiv);
            return feedbackDiv;
        }

        // Display questions
        function displayQuestions() {
            const grid = document.getElementById('quizGrid');
            const noResults = document.getElementById('noResults');
            
            if (filteredQuestions.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }
            
            grid.style.display = 'grid';
            noResults.style.display = 'none';
            
            grid.innerHTML = filteredQuestions.map((question, index) => {
                const originalIndex = questionBank.indexOf(question);
                const userAnswer = userAnswers[originalIndex];
                const isAnswered = questionStates[originalIndex];
                
                return `
                <div class="question-card">
                    <div class="question-number">#${index + 1}</div>
                    <div class="question-category">${getCategoryDisplayName(question.category)}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options-list">
                        ${question.options.map((option, optionIndex) => {
                            let optionClass = 'option-item';
                            let disabled = '';
                            
                            if (isAnswered || showingAnswers) {
                                disabled = 'style="pointer-events: none;"';
                                if (optionIndex === question.correct) {
                                    optionClass += ' answered-correct';
                                } else if (userAnswer === optionIndex && optionIndex !== question.correct) {
                                    optionClass += ' answered-incorrect';
                                }
                            } else if (userAnswer === optionIndex) {
                                optionClass += ' selected';
                            }
                            
                            return `
                                <div class="${optionClass}" onclick="handleOptionClick(${originalIndex}, ${optionIndex})" ${disabled}>
                                    <div class="option-letter">${String.fromCharCode(65 + optionIndex)}</div>
                                    <div>${option}</div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                    ${isAnswered || showingAnswers ? `
                        <div class="question-feedback">
                            ${isAnswered ? 
                                (userAnswer === question.correct ? 
                                    `<div class="feedback-message correct"><strong>✓ Correct!</strong> ${question.explanation}</div>` :
                                    `<div class="feedback-message incorrect"><strong>✗ Incorrect.</strong> The correct answer is ${String.fromCharCode(65 + question.correct)}. ${question.explanation}</div>`
                                ) :
                                `<div class="explanation"><strong>Explanation:</strong> ${question.explanation}</div>`
                            }
                        </div>
                    ` : ''}
                </div>
            `;
            }).join('');
        }

        // Get category display name
        function getCategoryDisplayName(category) {
            const categoryNames = {
                'supply-demand': 'Supply & Demand',
                'elasticity': 'Price Elasticity',
                'consumer-behavior': 'Consumer Behavior',
                'production-cost': 'Production & Cost',
                'perfect-competition': 'Perfect Competition',
                'monopoly': 'Monopoly',
                'game-theory': 'Game Theory',
                'factor-markets': 'Factor Markets',
                'resource-allocation': 'Resource Allocation'
            };
            return categoryNames[category] || category;
        }

        // Handle search
        function handleSearch(e) {
            const searchTerm = e.target.value.toLowerCase();
            filteredQuestions = questionBank.filter(question => {
                const matchesSearch = question.question.toLowerCase().includes(searchTerm) ||
                                    question.options.some(option => option.toLowerCase().includes(searchTerm)) ||
                                    question.explanation.toLowerCase().includes(searchTerm);
                const matchesFilter = currentFilter === 'all' || question.category === currentFilter;
                return matchesSearch && matchesFilter;
            });
            displayQuestions();
            updateStats();
        }

        // Handle filter click
        function handleFilterClick(clickedTag) {
            document.querySelectorAll('.filter-tag').forEach(tag => tag.classList.remove('active'));
            clickedTag.classList.add('active');
            
            currentFilter = clickedTag.dataset.category;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            filteredQuestions = questionBank.filter(question => {
                const matchesSearch = searchTerm === '' || 
                                    question.question.toLowerCase().includes(searchTerm) ||
                                    question.options.some(option => option.toLowerCase().includes(searchTerm)) ||
                                    question.explanation.toLowerCase().includes(searchTerm);
                const matchesFilter = currentFilter === 'all' || question.category === currentFilter;
                return matchesSearch && matchesFilter;
            });
            
            displayQuestions();
            updateStats();
        }

        // Update stats
        function updateStats() {
            document.getElementById('filteredCount').textContent = filteredQuestions.length;
        }

        // Show all questions
        function showAllQuestions() {
            document.getElementById('searchInput').value = '';
            document.querySelectorAll('.filter-tag').forEach(tag => tag.classList.remove('active'));
            document.querySelector('[data-category="all"]').classList.add('active');
            currentFilter = 'all';
            filteredQuestions = [...questionBank];
            displayQuestions();
            updateStats();
        }

        // Toggle correct answers
        function showCorrectAnswers() {
            showingAnswers = !showingAnswers;
            const button = event.target;
            if (showingAnswers) {
                button.textContent = 'Hide Answers';
                button.classList.add('active');
            } else {
                button.textContent = 'Show Correct Answers';
                button.classList.remove('active');
            }
            displayQuestions();
        }

        // Download quiz bank
        function downloadQuizBank() {
            alert('Quiz bank download feature coming soon! This will generate a PDF with all questions and answers.');
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>
